è¿™ä¸ªapiå‡½æ•°çš„æ„æˆæ˜¯æ€ä¹ˆæ ·çš„ï¼Œä¾‹å¦‚æˆ‘å‰ç«¯é¡µé¢ï¼Œéœ€è¦æŠ“å–è®¢å•æ•°æ®ï¼Œæ˜¯åŒä¸€è°ƒç”¨ä¸»å‡½æ•°å—ï¼Œç„¶ååœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨å…¶ä»–å‡½æ•°å—ï¼Œä¸»å‡½æ•°å¯¹äºå‰ç«¯é¡µé¢çš„è°ƒç”¨ï¼Œæ˜¯é€æ˜çš„ï¼Œå‰ç«¯é¡µé¢åªéœ€è¦è°ƒç”¨ä¸»å‡½æ•°ï¼Œå°±å¯ä»¥è·å–åˆ°è®¢å•æ•°æ®å—ï¼Ÿå¦‚æœæ˜¯ï¼Œä¸»å‡½æ•°çš„å‚æ•°æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ
è¿™ä¸ªä¸»å‡½æ•°æ˜¯ä¸‡èƒ½çš„å—ï¼Œä¾‹å¦‚æˆ‘éœ€è¦æŠ“å–è®¢å•æ•°æ®ï¼Œæˆ‘åªéœ€è¦è°ƒç”¨ä¸»å‡½æ•°ï¼Œå°±å¯ä»¥è·å–åˆ°è®¢å•æ•°æ®ï¼Œä¸éœ€è¦è°ƒç”¨å…¶ä»–å‡½æ•°å—ï¼Ÿ
æˆ‘æ•´ä¸ªè·å–é¢†æ˜Ÿæ•°æ®çš„æµç¨‹ï¼Œåªæ³¨æ„ä¸€ä¸ªä¸»å‡½æ•°å—
ä¾‹å¦‚æˆ‘æƒ³å¯¹é¢†æ˜Ÿå‡½æ•°çš„å¢åˆ æ”¹æŸ¥ï¼Œåªéœ€è¦è°ƒç”¨åŒä¸€ä¸ªä¸»å‡½æ•°ï¼Œè¿˜æ˜¯è¯´æ¯ä¸ªæ“ä½œéƒ½éœ€è¦è°ƒç”¨ä¸åŒçš„å‡½æ•°
è¯·ä½ ç»™æˆ‘ä¸€ä¸ªç¤ºä¾‹ï¼Œè¯´æ˜ä¸»å‡½æ•°çš„å‚æ•°æ˜¯æ€ä¹ˆæ ·çš„ï¼Œä¾‹å¦‚æˆ‘éœ€è¦è·å–è®¢å•æ•°æ®ï¼Œä¸»å‡½æ•°çš„å‚æ•°æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿå¦‚æœæƒ³å¯¹è®¢å•æ•°æ®è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œä¸»å‡½æ•°çš„å‚æ•°æ˜¯æ€ä¹ˆæ ·çš„ï¼Ÿ
----
æ€»ç»“ï¼šåªè¦ä¸€ä¸ªä¸»å‡½æ•°ï¼Œæ ¹æ®ä¸åŒçš„å‚æ•°ï¼Œè°ƒç”¨ä¸åŒçš„å‡½æ•°ï¼Œå°±å¯ä»¥å®ç°é¢†æ˜Ÿæ•°æ®çš„å¢åˆ æ”¹æŸ¥


## ğŸ“‹ é—®é¢˜è§£ç­”

### 1. é¢†æ˜ŸAPIå‡½æ•°æ¶æ„è®¾è®¡

**æ˜¯çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ä¸»å‡½æ•°è®¾è®¡**ã€‚æ ¹æ®<mcfile name="lingxingSdk" path="/Users/nathan/Library/CloudStorage/OneDrive-Personal/OneDrive/Coding/package_facdb4__c/functions/nodejs/testing-functions/class_lingxing/lingxingSdk/index.js"></mcfile>çš„å®ç°ï¼Œé¢†æ˜ŸSDKé‡‡ç”¨äº†**ä¸»å‡½æ•°åè°ƒæ¨¡å¼**ï¼š

```
å‰ç«¯é¡µé¢ â†’ è°ƒç”¨ä¸»å‡½æ•°(lingxingSdk) â†’ æ ¹æ®actionå‚æ•° â†’ æ‰§è¡Œå¯¹åº”æ“ä½œ
                                    â”œâ”€â”€ generateToken (è·å–ä»¤ç‰Œ)
                                    â”œâ”€â”€ refreshToken (åˆ·æ–°ä»¤ç‰Œ)  
                                    â””â”€â”€ httpRequest (ä¸šåŠ¡è¯·æ±‚)
```

**å¯¹å‰ç«¯å®Œå…¨é€æ˜**ï¼šå‰ç«¯åªéœ€è¦è°ƒç”¨ä¸€ä¸ªä¸»å‡½æ•°ï¼Œé€šè¿‡ä¸åŒçš„å‚æ•°ç»„åˆå³å¯å®Œæˆæ‰€æœ‰æ“ä½œã€‚

### 2. ä¸»å‡½æ•°å‚æ•°ç»“æ„è¯¦è§£

æ ¹æ®<mcfile name="index.js" path="/Users/nathan/Library/CloudStorage/OneDrive-Personal/OneDrive/Coding/package_facdb4__c/functions/nodejs/testing-functions/class_lingxing/lingxingSdk/index.js"></mcfile>çš„å®ç°ï¼Œä¸»å‡½æ•°æ¥æ”¶ä»¥ä¸‹å‚æ•°ï¼š

```javascript
{
  action: string,        // æ“ä½œç±»å‹ï¼š'generateToken'|'refreshToken'|'httpRequest'
  appId: string,         // ä¼ä¸šçš„AppID
  appSecret: string,     // ä¼ä¸šçš„AppSecretï¼ˆä»…generateTokenæ—¶éœ€è¦ï¼‰
  accessToken: string,   // è®¿é—®ä»¤ç‰Œï¼ˆhttpRequestæ—¶éœ€è¦ï¼‰
  refreshToken: string,  // åˆ·æ–°ä»¤ç‰Œï¼ˆrefreshTokenæ—¶éœ€è¦ï¼‰
  routeName: string,     // APIè·¯å¾„ï¼ˆhttpRequestæ—¶éœ€è¦ï¼‰
  method: string,        // è¯·æ±‚æ–¹æ³•ï¼š'GET'|'POST'ï¼ˆhttpRequestæ—¶éœ€è¦ï¼‰
  requestParams: Object  // è¯·æ±‚å‚æ•°ï¼ˆhttpRequestæ—¶éœ€è¦ï¼‰
}
```

### 3. å…·ä½“ä½¿ç”¨ç¤ºä¾‹

#### ç¤ºä¾‹1ï¼šè·å–è®¢å•æ•°æ®ï¼ˆå®Œæ•´æµç¨‹ï¼‰

**ç¬¬ä¸€æ­¥ï¼šè·å–è®¿é—®ä»¤ç‰Œ**
```javascript
// è°ƒç”¨ä¸»å‡½æ•°è·å–token
const tokenResult = await faas.function('lingxingSdk').invoke({
  action: 'generateToken',
  appId: 'ak_6p4lBDrt1aPPF',
  appSecret: 'b+llA9QRTsg1Dl3fpFLqrg=='
});

const accessToken = tokenResult.data.access_token;
```

**ç¬¬äºŒæ­¥ï¼šè·å–è®¢å•åˆ—è¡¨**
```javascript
// è°ƒç”¨ä¸»å‡½æ•°è·å–è®¢å•æ•°æ®
const orderResult = await faas.function('lingxingSdk').invoke({
  action: 'httpRequest',
  appId: 'ak_6p4lBDrt1aPPF',
  accessToken: accessToken,
  routeName: '/api/erp/sc/data/order/list',
  method: 'GET',
  requestParams: {
    offset: 0,
    length: 50,
    start_date: '2024-01-01',
    end_date: '2024-01-31'
  }
});

const orders = orderResult.data;
```

#### ç¤ºä¾‹2ï¼šè®¢å•æ•°æ®çš„å¢åˆ æ”¹æŸ¥æ“ä½œ

**æŸ¥è¯¢è®¢å•è¯¦æƒ…**
```javascript
const orderDetail = await faas.function('lingxingSdk').invoke({
  action: 'httpRequest',
  appId: 'ak_6p4lBDrt1aPPF',
  accessToken: accessToken,
  routeName: '/api/erp/sc/data/order/detail',
  method: 'GET',
  requestParams: {
    order_id: '12345'
  }
});
```

**æ›´æ–°è®¢å•çŠ¶æ€**
```javascript
const updateResult = await faas.function('lingxingSdk').invoke({
  action: 'httpRequest',
  appId: 'ak_6p4lBDrt1aPPF',
  accessToken: accessToken,
  routeName: '/api/erp/sc/data/order/update',
  method: 'POST',
  requestParams: {
    order_id: '12345',
    status: 'shipped',
    tracking_number: 'TN123456789'
  }
});
```

**åˆ›å»ºæ–°è®¢å•**
```javascript
const createResult = await faas.function('lingxingSdk').invoke({
  action: 'httpRequest',
  appId: 'ak_6p4lBDrt1aPPF',
  accessToken: accessToken,
  routeName: '/api/erp/sc/data/order/create',
  method: 'POST',
  requestParams: {
    customer_name: 'å¼ ä¸‰',
    product_sku: 'SKU001',
    quantity: 2,
    price: 99.99
  }
});
```

**åˆ é™¤è®¢å•**
```javascript
const deleteResult = await faas.function('lingxingSdk').invoke({
  action: 'httpRequest',
  appId: 'ak_6p4lBDrt1aPPF',
  accessToken: accessToken,
  routeName: '/api/erp/sc/data/order/delete',
  method: 'POST',
  requestParams: {
    order_id: '12345'
  }
});
```

### 4. ä¸»å‡½æ•°çš„ä¸‡èƒ½æ€§è¯´æ˜

**æ˜¯çš„ï¼Œè¿™ä¸ªä¸»å‡½æ•°æ˜¯"ä¸‡èƒ½"çš„**ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ… **ç»Ÿä¸€å…¥å£**ï¼šæ‰€æœ‰é¢†æ˜ŸAPIæ“ä½œéƒ½é€šè¿‡åŒä¸€ä¸ªä¸»å‡½æ•°å®Œæˆ  
âœ… **å‚æ•°é©±åŠ¨**ï¼šé€šè¿‡`action`å‚æ•°æ§åˆ¶å…·ä½“æ“ä½œç±»å‹  
âœ… **è‡ªåŠ¨ç®¡ç†**ï¼šå†…ç½®Tokenç®¡ç†ã€ç­¾åç”Ÿæˆã€é”™è¯¯å¤„ç†  
âœ… **é€æ˜è°ƒç”¨**ï¼šå‰ç«¯æ— éœ€å…³å¿ƒåº•å±‚å®ç°ç»†èŠ‚  

### 5. å®Œæ•´çš„ä¸šåŠ¡æµç¨‹

å¯¹äºå‰ç«¯é¡µé¢ï¼Œæ•´ä¸ªè·å–é¢†æ˜Ÿæ•°æ®çš„æµç¨‹ç¡®å®**åªéœ€è¦å…³æ³¨ä¸€ä¸ªä¸»å‡½æ•°**ï¼š

```javascript
// å‰ç«¯é¡µé¢çš„å®Œæ•´è°ƒç”¨ç¤ºä¾‹
class OrderService {
  constructor() {
    this.appId = 'ak_6p4lBDrt1aPPF';
    this.appSecret = 'b+llA9QRTsg1Dl3fpFLqrg==';
    this.accessToken = null;
  }

  // åˆå§‹åŒ–token
  async initToken() {
    const result = await faas.function('lingxingSdk').invoke({
      action: 'generateToken',
      appId: this.appId,
      appSecret: this.appSecret
    });
    this.accessToken = result.data.access_token;
  }

  // è·å–è®¢å•åˆ—è¡¨
  async getOrders(params = {}) {
    return await faas.function('lingxingSdk').invoke({
      action: 'httpRequest',
      appId: this.appId,
      accessToken: this.accessToken,
      routeName: '/api/erp/sc/data/order/list',
      method: 'GET',
      requestParams: params
    });
  }

  // æ›´æ–°è®¢å•
  async updateOrder(orderId, updateData) {
    return await faas.function('lingxingSdk').invoke({
      action: 'httpRequest',
      appId: this.appId,
      accessToken: this.accessToken,
      routeName: '/api/erp/sc/data/order/update',
      method: 'POST',
      requestParams: { order_id: orderId, ...updateData }
    });
  }
}
```

### 6. æ€»ç»“

- **å•ä¸€å‡½æ•°**ï¼šæ•´ä¸ªé¢†æ˜Ÿæ•°æ®æ“ä½œåªéœ€è¦è°ƒç”¨`lingxingSdk`è¿™ä¸€ä¸ªä¸»å‡½æ•°
- **å‚æ•°æ§åˆ¶**ï¼šé€šè¿‡`action`å‚æ•°åŒºåˆ†ä¸åŒæ“ä½œç±»å‹
- **å®Œå…¨é€æ˜**ï¼šå‰ç«¯æ— éœ€äº†è§£Tokenç®¡ç†ã€ç­¾åç”Ÿæˆç­‰å¤æ‚é€»è¾‘
- **ç»Ÿä¸€æ¥å£**ï¼šå¢åˆ æ”¹æŸ¥éƒ½ä½¿ç”¨ç›¸åŒçš„è°ƒç”¨æ–¹å¼ï¼Œåªæ˜¯`routeName`å’Œ`requestParams`ä¸åŒ

è¿™ç§è®¾è®¡å®Œå…¨ç¬¦åˆ<mcfile name="1-outline.md" path="/Users/nathan/Library/CloudStorage/OneDrive-Personal/OneDrive/Coding/package_facdb4__c/functions/nodejs/testing-functions/class_lingxing/lingxingSdk/notes/1-outline.md"></mcfile>ä¸­æåˆ°çš„**ä¸»å‡½æ•°åè°ƒæ¨¡å¼**ï¼Œå®ç°äº†é«˜å†…èšä½è€¦åˆçš„æ¶æ„è®¾è®¡ã€‚
